(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6372,95619,18644,e=>{"use strict";var a=e.i(50897),l=e.i(45519),s=e.i(57386);let t=l.forwardRef(({className:e,variant:l="default",size:t="default",...r},d)=>(0,a.jsx)("button",{className:(0,s.cn)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90"}[l],{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}[t],e),ref:d,...r}));t.displayName="Button",e.s(["Button",()=>t],6372);let r=l.forwardRef(({className:e,type:l,...t},r)=>(0,a.jsx)("input",{type:l,className:(0,s.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));r.displayName="Input",e.s(["Input",()=>r],95619);let d=l.forwardRef(({className:e,...l},t)=>(0,a.jsx)("label",{ref:t,className:(0,s.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...l}));d.displayName="Label",e.s(["Label",()=>d],18644)},62240,50575,41209,e=>{"use strict";var a=e.i(50897),l=e.i(45519),s=e.i(57386);let t=l.forwardRef(({className:e,...l},t)=>(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,s.cn)("w-full caption-bottom text-sm",e),...l})}));t.displayName="Table";let r=l.forwardRef(({className:e,...l},t)=>(0,a.jsx)("thead",{ref:t,className:(0,s.cn)("[&_tr]:border-b",e),...l}));r.displayName="TableHeader";let d=l.forwardRef(({className:e,...l},t)=>(0,a.jsx)("tbody",{ref:t,className:(0,s.cn)("[&_tr:last-child]:border-0",e),...l}));d.displayName="TableBody",l.forwardRef(({className:e,...l},t)=>(0,a.jsx)("tfoot",{ref:t,className:(0,s.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...l})).displayName="TableFooter";let i=l.forwardRef(({className:e,...l},t)=>(0,a.jsx)("tr",{ref:t,className:(0,s.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...l}));i.displayName="TableRow";let n=l.forwardRef(({className:e,...l},t)=>(0,a.jsx)("th",{ref:t,className:(0,s.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...l}));n.displayName="TableHead";let o=l.forwardRef(({className:e,...l},t)=>(0,a.jsx)("td",{ref:t,className:(0,s.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...l}));o.displayName="TableCell",e.s(["Table",()=>t,"TableBody",()=>d,"TableCell",()=>o,"TableHead",()=>n,"TableHeader",()=>r,"TableRow",()=>i],62240);let c=(0,e.i(82550).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>c],50575);var m=e.i(94110);function u(e){let l,s,t,r=(0,m.c)(7),{open:d,onClose:i,children:n}=e;return d?(r[0]!==i?(l=(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:i}),r[0]=i,r[1]=l):l=r[1],r[2]!==n?(s=(0,a.jsx)("div",{className:"relative bg-white dark:bg-slate-900 rounded-lg shadow-lg max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:n}),r[2]=n,r[3]=s):s=r[3],r[4]!==l||r[5]!==s?(t=(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[l,s]}),r[4]=l,r[5]=s,r[6]=t):t=r[6],t):null}function x(e){let l,t,r,d,i=(0,m.c)(8);return i[0]!==e?({className:l,...t}=e,i[0]=e,i[1]=l,i[2]=t):(l=i[1],t=i[2]),i[3]!==l?(r=(0,s.cn)("flex flex-col space-y-1.5 text-center sm:text-left p-6",l),i[3]=l,i[4]=r):r=i[4],i[5]!==t||i[6]!==r?(d=(0,a.jsx)("div",{className:r,...t}),i[5]=t,i[6]=r,i[7]=d):d=i[7],d}function b(e){let l,t,r,d,i=(0,m.c)(8);return i[0]!==e?({className:l,...t}=e,i[0]=e,i[1]=l,i[2]=t):(l=i[1],t=i[2]),i[3]!==l?(r=(0,s.cn)("text-lg font-semibold leading-none tracking-tight",l),i[3]=l,i[4]=r):r=i[4],i[5]!==t||i[6]!==r?(d=(0,a.jsx)("h2",{className:r,...t}),i[5]=t,i[6]=r,i[7]=d):d=i[7],d}function h(e){let l,t,r,d,i=(0,m.c)(8);return i[0]!==e?({className:l,...t}=e,i[0]=e,i[1]=l,i[2]=t):(l=i[1],t=i[2]),i[3]!==l?(r=(0,s.cn)("text-sm text-muted-foreground",l),i[3]=l,i[4]=r):r=i[4],i[5]!==t||i[6]!==r?(d=(0,a.jsx)("p",{className:r,...t}),i[5]=t,i[6]=r,i[7]=d):d=i[7],d}function p(e){let l,t,r,d,i=(0,m.c)(8);return i[0]!==e?({className:l,...t}=e,i[0]=e,i[1]=l,i[2]=t):(l=i[1],t=i[2]),i[3]!==l?(r=(0,s.cn)("p-6 pt-0",l),i[3]=l,i[4]=r):r=i[4],i[5]!==t||i[6]!==r?(d=(0,a.jsx)("div",{className:r,...t}),i[5]=t,i[6]=r,i[7]=d):d=i[7],d}function f(e){let l,t,r,d,i=(0,m.c)(8);return i[0]!==e?({className:l,...t}=e,i[0]=e,i[1]=l,i[2]=t):(l=i[1],t=i[2]),i[3]!==l?(r=(0,s.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 p-6 pt-0",l),i[3]=l,i[4]=r):r=i[4],i[5]!==t||i[6]!==r?(d=(0,a.jsx)("div",{className:r,...t}),i[5]=t,i[6]=r,i[7]=d):d=i[7],d}e.s(["Dialog",()=>u,"DialogContent",()=>p,"DialogDescription",()=>h,"DialogFooter",()=>f,"DialogHeader",()=>x,"DialogTitle",()=>b],41209)},92064,e=>{"use strict";var a=e.i(50897),l=e.i(45519),s=e.i(34899),t=e.i(6372),r=e.i(62240),d=e.i(50575),i=e.i(87971),n=e.i(86293),o=e.i(57386),c=e.i(41209),m=e.i(95619),u=e.i(18644),x=e.i(79208);function b({open:e,onClose:s,onSuccess:r,roles:d,departments:i}){let o=(0,x.getUser)(),[b,h]=(0,l.useState)({tenantId:o?.tenantId||"",employeeCode:"",username:"",password:"",fullName:"",email:"",mobile:"",branchId:"",departmentId:"",roleId:"",managerId:null,isActive:!0}),[p,f]=(0,l.useState)(!1),[g,j]=(0,l.useState)(""),v=async e=>{e.preventDefault(),j(""),f(!0);try{let{isActive:e,...a}=b,l=await n.default.createUser(a);l.success?(h({tenantId:o?.tenantId||"",employeeCode:"",username:"",password:"",fullName:"",email:"",mobile:"",branchId:"",departmentId:"",roleId:"",managerId:null,isActive:!0}),r()):j(l.message||"Failed to create user")}catch(e){j(e.response?.data?.message||"Failed to create user")}finally{f(!1)}};return(0,a.jsx)(c.Dialog,{open:e,onClose:s,children:(0,a.jsxs)("form",{onSubmit:v,children:[(0,a.jsxs)(c.DialogHeader,{children:[(0,a.jsx)(c.DialogTitle,{children:"Create New User"}),(0,a.jsx)(c.DialogDescription,{children:"Add a new user to the system"})]}),(0,a.jsxs)(c.DialogContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.Label,{htmlFor:"employeeCode",children:"Employee Code *"}),(0,a.jsx)(m.Input,{id:"employeeCode",value:b.employeeCode,onChange:e=>h({...b,employeeCode:e.target.value}),placeholder:"e.g., EMP101",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.Label,{htmlFor:"username",children:"Username *"}),(0,a.jsx)(m.Input,{id:"username",value:b.username,onChange:e=>h({...b,username:e.target.value}),required:!0})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.Label,{htmlFor:"fullName",children:"Full Name *"}),(0,a.jsx)(m.Input,{id:"fullName",value:b.fullName,onChange:e=>h({...b,fullName:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.Label,{htmlFor:"email",children:"Email *"}),(0,a.jsx)(m.Input,{id:"email",type:"email",value:b.email,onChange:e=>h({...b,email:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.Label,{htmlFor:"mobile",children:"Mobile *"}),(0,a.jsx)(m.Input,{id:"mobile",value:b.mobile,onChange:e=>h({...b,mobile:e.target.value}),placeholder:"e.g., 9876543210",required:!0})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.Label,{htmlFor:"password",children:"Password *"}),(0,a.jsx)(m.Input,{id:"password",type:"password",value:b.password,onChange:e=>h({...b,password:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.Label,{htmlFor:"branchId",children:"Branch ID *"}),(0,a.jsx)(m.Input,{id:"branchId",value:b.branchId||"",onChange:e=>h({...b,branchId:e.target.value}),placeholder:"e.g., branch1",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.Label,{htmlFor:"roleId",children:"Role *"}),(0,a.jsxs)("select",{id:"roleId",className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",value:b.roleId,onChange:e=>h({...b,roleId:e.target.value}),required:!0,children:[(0,a.jsx)("option",{value:"",className:"bg-background text-foreground",children:"Select Role"}),d.map(e=>(0,a.jsx)("option",{value:e.id,className:"bg-background text-foreground",children:e.name},e.id))]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.Label,{htmlFor:"departmentId",children:"Department (Optional)"}),(0,a.jsxs)("select",{id:"departmentId",className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",value:b.departmentId||"",onChange:e=>h({...b,departmentId:e.target.value||void 0}),children:[(0,a.jsx)("option",{value:"",className:"bg-background text-foreground",children:"Select Department"}),i.map(e=>(0,a.jsx)("option",{value:e.id,className:"bg-background text-foreground",children:e.name},e.id))]})]}),g&&(0,a.jsx)("div",{className:"p-3 rounded-md bg-red-50 border border-red-200 text-red-800 text-sm",children:g})]}),(0,a.jsxs)(c.DialogFooter,{children:[(0,a.jsx)(t.Button,{type:"button",variant:"outline",onClick:s,disabled:p,children:"Cancel"}),(0,a.jsx)(t.Button,{type:"submit",disabled:p,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:p?"Creating...":"Create User"})]})]})})}function h(){let[e,c]=(0,l.useState)([]),[m,u]=(0,l.useState)(!0),[x,h]=(0,l.useState)(!1),[p,f]=(0,l.useState)([]),[g,j]=(0,l.useState)([]);(0,l.useEffect)(()=>{v(),y()},[]);let v=async()=>{try{u(!0);let e=await n.default.getUsers();e.success&&c(e.data||[])}catch(e){console.error("Failed to load users:",e)}finally{u(!1)}},y=async()=>{try{let[e,a]=await Promise.all([n.default.getRoles(),n.default.getDepartments()]);e.success&&f(e.data),a.success&&j(a.data)}catch(e){console.error("Failed to load metadata",e)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[(0,a.jsx)(i.Users,{className:"w-8 h-8 text-blue-600"}),"User Management"]}),(0,a.jsx)("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Manage system users and employees"})]}),(0,a.jsxs)(t.Button,{onClick:()=>h(!0),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-lg",children:[(0,a.jsx)(d.Plus,{className:"w-4 h-4 mr-2"}),"Create User"]})]}),(0,a.jsxs)(s.Card,{children:[(0,a.jsxs)(s.CardHeader,{children:[(0,a.jsx)(s.CardTitle,{children:"All Users"}),(0,a.jsx)(s.CardDescription,{children:"List of all registered users"})]}),(0,a.jsx)(s.CardContent,{children:m?(0,a.jsx)("div",{className:"text-center py-8 text-slate-500",children:"Loading users..."}):0===e.length?(0,a.jsx)("div",{className:"text-center py-8 text-slate-500",children:"No users found. Create your first user to get started."}):(0,a.jsxs)(r.Table,{children:[(0,a.jsx)(r.TableHeader,{children:(0,a.jsxs)(r.TableRow,{children:[(0,a.jsx)(r.TableHead,{children:"Code"}),(0,a.jsx)(r.TableHead,{children:"Full Name"}),(0,a.jsx)(r.TableHead,{children:"Username"}),(0,a.jsx)(r.TableHead,{children:"Email"}),(0,a.jsx)(r.TableHead,{children:"Role"}),(0,a.jsx)(r.TableHead,{children:"Department"}),(0,a.jsx)(r.TableHead,{className:"text-center",children:"Status"}),(0,a.jsx)(r.TableHead,{children:"Created"})]})}),(0,a.jsx)(r.TableBody,{children:e.map(e=>{let l,s;return(0,a.jsxs)(r.TableRow,{children:[(0,a.jsx)(r.TableCell,{className:"font-medium",children:(0,a.jsx)("span",{className:"px-2 py-1 bg-slate-100 dark:bg-slate-800 rounded text-xs font-mono",children:e.employeeCode||"-"})}),(0,a.jsx)(r.TableCell,{children:e.fullName}),(0,a.jsx)(r.TableCell,{className:"text-slate-500",children:e.username}),(0,a.jsx)(r.TableCell,{children:e.email}),(0,a.jsx)(r.TableCell,{children:(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-indigo-50 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300",children:e.Role?.name||(l=e.roleId,p.find(e=>e.id===l)?.name||l||"-")})}),(0,a.jsx)(r.TableCell,{children:(s=e.departmentId,g.find(e=>e.id===s)?.name||s||"-")}),(0,a.jsx)(r.TableCell,{className:"text-center",children:e.isActive?(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",children:"Active"}):(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300",children:"Inactive"})}),(0,a.jsx)(r.TableCell,{className:"text-slate-500 text-sm",children:(0,o.formatDate)(e.createdAt)})]},e.id)})})]})})]}),(0,a.jsx)(b,{open:x,onClose:()=>h(!1),onSuccess:()=>{h(!1),v()},roles:p,departments:g})]})}e.s(["default",()=>h],92064)}]);